<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssmTest.mapper.AccountMapper">
    <resultMap id="BaseResultMap" type="com.ssmTest.model.Account">
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="login_name" jdbcType="VARCHAR" property="loginName"/>
        <result column="password" jdbcType="VARCHAR" property="password"/>
    </resultMap>

    <resultMap id="UserBaseResultMap" type="com.ssmTest.model.User">
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="login_name" jdbcType="VARCHAR" property="loginName"/>
        <result column="password" jdbcType="VARCHAR" property="password"/>
        <association property="student" column="id" javaType="student" select="com.ssmTest.mapper.StudentMapper.selectByAccountId"/>
    </resultMap>
    <select id="selectByPassword" parameterType="com.ssmTest.model.Account" resultMap="BaseResultMap">
        select * from account
        where login_name = #{loginName}
        and password = #{password};
    </select>

    <select id="selectById" parameterType="com.ssmTest.model.Account" resultMap="UserBaseResultMap">
        select * from account
        where id = #{id}
    </select>



</mapper>
